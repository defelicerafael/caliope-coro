<app-toolbar></app-toolbar>
<section class="w-100">
    <div class="flex">
        <div class="center text-center" *ngIf="tabla!='fichas'">
            <a  routerLink="/admin/tabla/carousel/{{idTabla}}/img/nueva" routerLinkActive="active" ariaCurrentWhenActive="page">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                </svg>
                <h3>Ingresar una nueva imagen</h3>
            </a>
        </div>
        <!--<div class="center text-center" *ngIf="tabla=='fichas'">
            <a  routerLink="/admin/tabla/fichas/{{idTabla}}/img/nueva" routerLinkActive="active" ariaCurrentWhenActive="page">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                </svg>
                <h3>Ingresar una nueva Ficha</h3>
            </a>
        </div>-->
    </div>
    <div 
        cdkDropList
        cdkDropListOrientation="horizontal"
        class="example-list"
        
        (cdkDropListDropped)="drop($event)">

        <div class="example-box" *ngFor="let img of lista" cdkDrag [cdkDragData]="img.id">
            <div>
                @if(!esArchivoPDF(img.img)){
                <figure>
                    <img [src]="img.img" class="img-fluid" alt="{{img.img}}" title="{{img.img}}">
                    
                    <figcaption class="text-center negro">{{img.orden}}</figcaption>
                    <figcaption class="text-center">
                        <div class="flex">
                            <button class="btn btn-color-primario" (click)="imagenPrincipal(img.img)">
                                <mat-icon [inline]="true" style="font-size:22px">image</mat-icon>
                            </button>
                            <button class="btn btn-color-tercero" routerLink="/admin/tabla/carousel/{{img.id}}/img/crop" routerLinkActive="active" ariaCurrentWhenActive="page">
                                <mat-icon [inline]="true" style="font-size:22px">crop</mat-icon>
                            </button>
                            <button class="btn btn-color-cuarto" (click)="borrarImagen(img.id)">
                                <mat-icon [inline]="true" style="font-size:22px">delete</mat-icon>
                            </button>
                        </div>
                    </figcaption>
                </figure>
                }
            </div>
            <div>
                
            </div>
        </div>
      </div>
</section>